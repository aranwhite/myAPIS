{"data":{"policyFragmentsByFolderPath":[],"webApiServicesByFolderPath":[{"name":"API1","checksum":"aadae6efeff2fd689682fa4eb3f60da06fef246f","resolutionPath":"/api1*","folderPath":"/DemoAPIs","policy":{"xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<wsp:Policy xmlns:L7p=\"http://www.layer7tech.com/ws/policy\" xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2002/12/policy\">\n    <wsp:All wsp:Usage=\"Required\">\n        <L7p:AuditAssertion/>\n        <L7p:CommentAssertion>\n            <L7p:Comment stringValue=\"**** Policy to proxy API call with no security !!!\"/>\n        </L7p:CommentAssertion>\n        <L7p:Split>\n            <L7p:InputVariable stringValue=\"request.http.uri\"/>\n            <L7p:OutputVariable stringValue=\"uriParts\"/>\n            <L7p:SplitPattern stringValue=\"/\"/>\n        </L7p:Split>\n        <L7p:HttpRoutingAssertion>\n            <L7p:FailOnErrorStatus booleanValue=\"false\"/>\n            <L7p:OmitAuthHeaderConnectReuseSystemDefault boxedBooleanValue=\"true\"/>\n            <L7p:ProtectedServiceUrl stringValue=\"https://localhost:9443/dbcontent/${uriParts[2]}${request.url.query}\"/>\n            <L7p:ProxyPassword stringValueNull=\"null\"/>\n            <L7p:ProxyUsername stringValueNull=\"null\"/>\n            <L7p:RequestHeaderRules httpPassthroughRuleSet=\"included\">\n                <L7p:ForwardAll booleanValue=\"true\"/>\n                <L7p:Rules httpPassthroughRules=\"included\">\n                    <L7p:item httpPassthroughRule=\"included\">\n                        <L7p:Name stringValue=\"Cookie\"/>\n                    </L7p:item>\n                    <L7p:item httpPassthroughRule=\"included\">\n                        <L7p:Name stringValue=\"SOAPAction\"/>\n                    </L7p:item>\n                </L7p:Rules>\n            </L7p:RequestHeaderRules>\n            <L7p:RequestParamRules httpPassthroughRuleSet=\"included\">\n                <L7p:ForwardAll booleanValue=\"true\"/>\n                <L7p:Rules httpPassthroughRules=\"included\"/>\n            </L7p:RequestParamRules>\n            <L7p:ResponseHeaderRules httpPassthroughRuleSet=\"included\">\n                <L7p:ForwardAll booleanValue=\"true\"/>\n                <L7p:Rules httpPassthroughRules=\"included\">\n                    <L7p:item httpPassthroughRule=\"included\">\n                        <L7p:Name stringValue=\"Set-Cookie\"/>\n                    </L7p:item>\n                </L7p:Rules>\n            </L7p:ResponseHeaderRules>\n        </L7p:HttpRoutingAssertion>\n        <L7p:CommentAssertion>\n            <L7p:Comment stringValue=\"Add support for JSON\"/>\n        </L7p:CommentAssertion>\n        <wsp:OneOrMore wsp:Usage=\"Required\">\n            <wsp:All wsp:Usage=\"Required\">\n                <L7p:ComparisonAssertion>\n                    <L7p:CaseSensitive booleanValue=\"false\"/>\n                    <L7p:Expression1 stringValue=\"${request.http.header.accept}\"/>\n                    <L7p:Expression2 stringValue=\"json\"/>\n                    <L7p:Operator operator=\"CONTAINS\"/>\n                    <L7p:Predicates predicates=\"included\">\n                        <L7p:item binary=\"included\">\n                            <L7p:CaseSensitive booleanValue=\"false\"/>\n                            <L7p:Operator operator=\"CONTAINS\"/>\n                            <L7p:RightValue stringValue=\"json\"/>\n                        </L7p:item>\n                    </L7p:Predicates>\n                </L7p:ComparisonAssertion>\n                <L7p:JsonTransformation>\n                    <L7p:RootTagString stringValue=\"\"/>\n                </L7p:JsonTransformation>\n            </wsp:All>\n            <wsp:All wsp:Usage=\"Required\">\n                <L7p:TrueAssertion/>\n            </wsp:All>\n        </wsp:OneOrMore>\n    </wsp:All>\n</wsp:Policy>\n "},"enabled":true,"methodsAllowed":["GET","POST","PUT","DELETE"]},{"name":"API2","checksum":"2a2d997b1f2615b6ebe2720e283289fac9fb3a55","resolutionPath":"/api2*","folderPath":"/DemoAPIs","policy":{"xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<wsp:Policy xmlns:L7p=\"http://www.layer7tech.com/ws/policy\" xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2002/12/policy\">\n    <wsp:All wsp:Usage=\"Required\">\n        <L7p:AuditAssertion/>\n        <L7p:CommentAssertion>\n            <L7p:Comment stringValue=\"**** Policy to proxy API call with Basic security\"/>\n        </L7p:CommentAssertion>\n        <L7p:CommentAssertion>\n            <L7p:Comment stringValue=\"**** ADD rate limit protection\"/>\n        </L7p:CommentAssertion>\n        <L7p:Split>\n            <L7p:InputVariable stringValue=\"request.http.uri\"/>\n            <L7p:OutputVariable stringValue=\"uriParts\"/>\n            <L7p:SplitPattern stringValue=\"/\"/>\n        </L7p:Split>\n        <L7p:AuditDetailAssertion>\n            <L7p:Detail stringValue=\"sss -- https://localhost:9443/dbcontent/${uriParts[2]}${request.url.query}\"/>\n        </L7p:AuditDetailAssertion>\n        <wsp:All wsp:Usage=\"Required\">\n            <L7p:HttpBasic/>\n            <L7p:Authentication>\n                <L7p:IdentityProviderOid goidValue=\"c4e77a7656124937c74cdbf2653a47ed\"/>\n            </L7p:Authentication>\n        </wsp:All>\n        <L7p:HttpRoutingAssertion>\n            <L7p:FailOnErrorStatus booleanValue=\"false\"/>\n            <L7p:OmitAuthHeaderConnectReuseSystemDefault boxedBooleanValue=\"true\"/>\n            <L7p:ProtectedServiceUrl stringValue=\"https://localhost:9443/dbcontent/${uriParts[2]}${request.url.query}\"/>\n            <L7p:ProxyPassword stringValueNull=\"null\"/>\n            <L7p:ProxyUsername stringValueNull=\"null\"/>\n            <L7p:RequestHeaderRules httpPassthroughRuleSet=\"included\">\n                <L7p:ForwardAll booleanValue=\"true\"/>\n                <L7p:Rules httpPassthroughRules=\"included\">\n                    <L7p:item httpPassthroughRule=\"included\">\n                        <L7p:Name stringValue=\"Cookie\"/>\n                    </L7p:item>\n                    <L7p:item httpPassthroughRule=\"included\">\n                        <L7p:Name stringValue=\"SOAPAction\"/>\n                    </L7p:item>\n                </L7p:Rules>\n            </L7p:RequestHeaderRules>\n            <L7p:RequestParamRules httpPassthroughRuleSet=\"included\">\n                <L7p:ForwardAll booleanValue=\"true\"/>\n                <L7p:Rules httpPassthroughRules=\"included\"/>\n            </L7p:RequestParamRules>\n            <L7p:ResponseHeaderRules httpPassthroughRuleSet=\"included\">\n                <L7p:ForwardAll booleanValue=\"true\"/>\n                <L7p:Rules httpPassthroughRules=\"included\">\n                    <L7p:item httpPassthroughRule=\"included\">\n                        <L7p:Name stringValue=\"Set-Cookie\"/>\n                    </L7p:item>\n                </L7p:Rules>\n            </L7p:ResponseHeaderRules>\n        </L7p:HttpRoutingAssertion>\n    </wsp:All>\n</wsp:Policy>\n"},"enabled":true,"methodsAllowed":["GET","POST","PUT","DELETE"]},{"name":"API3","checksum":"8f61058d187116cca5d8294078c55ab33353523c","resolutionPath":"/api3*","folderPath":"/DemoAPIs","policy":{"xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<wsp:Policy xmlns:L7p=\"http://www.layer7tech.com/ws/policy\" xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2002/12/policy\">\n    <wsp:All wsp:Usage=\"Required\">\n        <L7p:AuditAssertion/>\n        <L7p:CommentAssertion>\n            <L7p:Comment stringValue=\"**** Policy to proxy API call with MTLS and LDAP lookup\"/>\n        </L7p:CommentAssertion>\n        <L7p:Split>\n            <L7p:InputVariable stringValue=\"request.http.uri\"/>\n            <L7p:OutputVariable stringValue=\"uriParts\"/>\n            <L7p:SplitPattern stringValue=\"/\"/>\n        </L7p:Split>\n        <L7p:SslAssertion>\n            <L7p:RequireClientAuthentication booleanValue=\"true\"/>\n        </L7p:SslAssertion>\n        <L7p:Authentication>\n            <L7p:IdentityProviderOid goidValue=\"0000000000000000fffffffffffffffe\"/>\n        </L7p:Authentication>\n        <L7p:HttpRoutingAssertion>\n            <L7p:FailOnErrorStatus booleanValue=\"false\"/>\n            <L7p:OmitAuthHeaderConnectReuseSystemDefault boxedBooleanValue=\"true\"/>\n            <L7p:ProtectedServiceUrl stringValue=\"https://localhost:9443/dbcontent/${uriParts[2]}${request.url.query}\"/>\n            <L7p:ProxyPassword stringValueNull=\"null\"/>\n            <L7p:ProxyUsername stringValueNull=\"null\"/>\n            <L7p:RequestHeaderRules httpPassthroughRuleSet=\"included\">\n                <L7p:ForwardAll booleanValue=\"true\"/>\n                <L7p:Rules httpPassthroughRules=\"included\">\n                    <L7p:item httpPassthroughRule=\"included\">\n                        <L7p:Name stringValue=\"Cookie\"/>\n                    </L7p:item>\n                    <L7p:item httpPassthroughRule=\"included\">\n                        <L7p:Name stringValue=\"SOAPAction\"/>\n                    </L7p:item>\n                </L7p:Rules>\n            </L7p:RequestHeaderRules>\n            <L7p:RequestParamRules httpPassthroughRuleSet=\"included\">\n                <L7p:ForwardAll booleanValue=\"true\"/>\n                <L7p:Rules httpPassthroughRules=\"included\"/>\n            </L7p:RequestParamRules>\n            <L7p:ResponseHeaderRules httpPassthroughRuleSet=\"included\">\n                <L7p:ForwardAll booleanValue=\"true\"/>\n                <L7p:Rules httpPassthroughRules=\"included\">\n                    <L7p:item httpPassthroughRule=\"included\">\n                        <L7p:Name stringValue=\"Set-Cookie\"/>\n                    </L7p:item>\n                </L7p:Rules>\n            </L7p:ResponseHeaderRules>\n        </L7p:HttpRoutingAssertion>\n        <L7p:AuditDetailAssertion>\n            <L7p:Detail stringValue=\"${request.ssl.clientCertificate}\"/>\n        </L7p:AuditDetailAssertion>\n    </wsp:All>\n</wsp:Policy>\n"},"enabled":true,"methodsAllowed":["GET","POST","PUT","DELETE"]},{"name":"API4","checksum":"247d42de6587947a4674c60c324e921230e30945","resolutionPath":"/api4*","folderPath":"/DemoAPIs","policy":{"xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<wsp:Policy xmlns:L7p=\"http://www.layer7tech.com/ws/policy\" xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2002/12/policy\">\n    <wsp:All wsp:Usage=\"Required\">\n        <L7p:AuditAssertion/>\n        <L7p:CommentAssertion>\n            <L7p:Comment stringValue=\"**** Policy to proxy API call with u/passwd\"/>\n        </L7p:CommentAssertion>\n        <L7p:CommentAssertion>\n            <L7p:Comment stringValue=\"**** ADD LDAP Query and get attribute then filter\"/>\n        </L7p:CommentAssertion>\n        <L7p:CommentAssertion>\n            <L7p:Comment stringValue=\"**** Policy to proxy API call with Basic security\"/>\n        </L7p:CommentAssertion>\n        <L7p:Split>\n            <L7p:InputVariable stringValue=\"request.http.uri\"/>\n            <L7p:OutputVariable stringValue=\"uriParts\"/>\n            <L7p:SplitPattern stringValue=\"/\"/>\n        </L7p:Split>\n        <L7p:HttpBasic/>\n        <L7p:Authentication>\n            <L7p:IdentityProviderOid goidValue=\"c4e77a7656124937c74cdbf2653a47ed\"/>\n        </L7p:Authentication>\n        <L7p:LDAPQuery>\n            <L7p:AllowMultipleResults booleanValue=\"true\"/>\n            <L7p:AttrNames stringArrayValue=\"included\">\n                <L7p:item stringValue=\"mail\"/>\n                <L7p:item stringValue=\"uid\"/>\n                <L7p:item stringValue=\"sn\"/>\n                <L7p:item stringValue=\"departmentNumber\"/>\n            </L7p:AttrNames>\n            <L7p:CacheSize intValue=\"100\"/>\n            <L7p:EnableCache booleanValue=\"false\"/>\n            <L7p:FailIfNoResults booleanValue=\"true\"/>\n            <L7p:LdapProviderOid goidValue=\"c4e77a7656124937c74cdbf2653a47ed\"/>\n            <L7p:QueryMappings queryAttributeMappings=\"included\">\n                <L7p:item mapping=\"included\">\n                    <L7p:AttributeName stringValue=\"mail\"/>\n                    <L7p:JoinMultivalued booleanValue=\"false\"/>\n                    <L7p:MatchingContextVariableName stringValue=\"email\"/>\n                </L7p:item>\n                <L7p:item mapping=\"included\">\n                    <L7p:AttributeName stringValue=\"uid\"/>\n                    <L7p:JoinMultivalued booleanValue=\"false\"/>\n                    <L7p:MatchingContextVariableName stringValue=\"uid\"/>\n                </L7p:item>\n                <L7p:item mapping=\"included\">\n                    <L7p:AttributeName stringValue=\"sn\"/>\n                    <L7p:JoinMultivalued booleanValue=\"false\"/>\n                    <L7p:MatchingContextVariableName stringValue=\"sn\"/>\n                </L7p:item>\n                <L7p:item mapping=\"included\">\n                    <L7p:AttributeName stringValue=\"departmentNumber\"/>\n                    <L7p:JoinMultivalued booleanValue=\"false\"/>\n                    <L7p:MatchingContextVariableName stringValue=\"dept\"/>\n                </L7p:item>\n            </L7p:QueryMappings>\n            <L7p:SearchFilter stringValue=\"(cn=${request.authenticatedUser})\"/>\n            <L7p:SearchFilterInjectionProtected booleanValue=\"true\"/>\n        </L7p:LDAPQuery>\n        <L7p:AuditDetailAssertion>\n            <L7p:Detail stringValue=\"${dept}\"/>\n        </L7p:AuditDetailAssertion>\n        <L7p:HttpRoutingAssertion>\n            <L7p:FailOnErrorStatus booleanValue=\"false\"/>\n            <L7p:OmitAuthHeaderConnectReuseSystemDefault boxedBooleanValue=\"true\"/>\n            <L7p:ProtectedServiceUrl stringValue=\"https://localhost:9443/dbcontent/${uriParts[2]}${request.url.query}\"/>\n            <L7p:ProxyPassword stringValueNull=\"null\"/>\n            <L7p:ProxyUsername stringValueNull=\"null\"/>\n            <L7p:RequestHeaderRules httpPassthroughRuleSet=\"included\">\n                <L7p:ForwardAll booleanValue=\"true\"/>\n                <L7p:Rules httpPassthroughRules=\"included\">\n                    <L7p:item httpPassthroughRule=\"included\">\n                        <L7p:Name stringValue=\"Cookie\"/>\n                    </L7p:item>\n                    <L7p:item httpPassthroughRule=\"included\">\n                        <L7p:Name stringValue=\"SOAPAction\"/>\n                    </L7p:item>\n                </L7p:Rules>\n            </L7p:RequestHeaderRules>\n            <L7p:RequestParamRules httpPassthroughRuleSet=\"included\">\n                <L7p:ForwardAll booleanValue=\"true\"/>\n                <L7p:Rules httpPassthroughRules=\"included\"/>\n            </L7p:RequestParamRules>\n            <L7p:ResponseHeaderRules httpPassthroughRuleSet=\"included\">\n                <L7p:ForwardAll booleanValue=\"true\"/>\n                <L7p:Rules httpPassthroughRules=\"included\">\n                    <L7p:item httpPassthroughRule=\"included\">\n                        <L7p:Name stringValue=\"Set-Cookie\"/>\n                    </L7p:item>\n                </L7p:Rules>\n            </L7p:ResponseHeaderRules>\n        </L7p:HttpRoutingAssertion>\n        <L7p:XslTransformation>\n            <L7p:Direction intValue=\"2\"/>\n            <L7p:ResourceInfo staticResourceInfo=\"included\">\n                <L7p:Document stringValueReference=\"inline\"><![CDATA[<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\">\n<xsl:param name=\"dept\" select=\"''\"/>    \n    <xsl:template match=\"data\">\n        <data>\n            <xsl:for-each select=\"./*\">\n                <xsl:choose>\n                <xsl:when test=\"name(.)='${dept}'\">\n                <xsl:copy-of select=\".\"/>\n                </xsl:when>\n                </xsl:choose>\n            </xsl:for-each>\n        </data>\n    </xsl:template>\n    \n\n    <xsl:template match=\"@*|node()\">\n        <xsl:copy>\n            <xsl:apply-templates select=\"@*|node()\"/>\n        </xsl:copy>\n    </xsl:template>\n    \n</xsl:stylesheet>]]></L7p:Document>\n            </L7p:ResourceInfo>\n            <L7p:Target target=\"RESPONSE\"/>\n            <L7p:TransformName stringValue=\"\"/>\n            <L7p:XsltVersion stringValue=\"2.0\"/>\n        </L7p:XslTransformation>\n    </wsp:All>\n</wsp:Policy>\n"},"enabled":true,"methodsAllowed":["GET","POST","PUT","DELETE"]},{"name":"API5","checksum":"5d2d8372244a6da0f1386b8fb3cf1989812a4a95","resolutionPath":"/api5*","folderPath":"/DemoAPIs","policy":{"xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<wsp:Policy xmlns:L7p=\"http://www.layer7tech.com/ws/policy\" xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2002/12/policy\">\n    <wsp:All wsp:Usage=\"Required\">\n        <L7p:AuditAssertion/>\n        <L7p:CommentAssertion>\n            <L7p:Comment stringValue=\"**** Obsficate a field in the response.\"/>\n        </L7p:CommentAssertion>\n        <L7p:Split>\n            <L7p:InputVariable stringValue=\"request.http.uri\"/>\n            <L7p:OutputVariable stringValue=\"uriParts\"/>\n            <L7p:SplitPattern stringValue=\"/\"/>\n        </L7p:Split>\n        <L7p:HttpBasic/>\n        <L7p:Authentication>\n            <L7p:IdentityProviderOid goidValue=\"c4e77a7656124937c74cdbf2653a47ed\"/>\n        </L7p:Authentication>\n        <L7p:LDAPQuery>\n            <L7p:AllowMultipleResults booleanValue=\"true\"/>\n            <L7p:AttrNames stringArrayValue=\"included\">\n                <L7p:item stringValue=\"mail\"/>\n                <L7p:item stringValue=\"uid\"/>\n                <L7p:item stringValue=\"sn\"/>\n                <L7p:item stringValue=\"departmentNumber\"/>\n            </L7p:AttrNames>\n            <L7p:CacheSize intValue=\"100\"/>\n            <L7p:EnableCache booleanValue=\"false\"/>\n            <L7p:LdapProviderOid goidValue=\"c4e77a7656124937c74cdbf2653a47ed\"/>\n            <L7p:QueryMappings queryAttributeMappings=\"included\">\n                <L7p:item mapping=\"included\">\n                    <L7p:AttributeName stringValue=\"mail\"/>\n                    <L7p:JoinMultivalued booleanValue=\"false\"/>\n                    <L7p:MatchingContextVariableName stringValue=\"email\"/>\n                </L7p:item>\n                <L7p:item mapping=\"included\">\n                    <L7p:AttributeName stringValue=\"uid\"/>\n                    <L7p:JoinMultivalued booleanValue=\"false\"/>\n                    <L7p:MatchingContextVariableName stringValue=\"uid\"/>\n                </L7p:item>\n                <L7p:item mapping=\"included\">\n                    <L7p:AttributeName stringValue=\"sn\"/>\n                    <L7p:JoinMultivalued booleanValue=\"false\"/>\n                    <L7p:MatchingContextVariableName stringValue=\"sn\"/>\n                </L7p:item>\n                <L7p:item mapping=\"included\">\n                    <L7p:AttributeName stringValue=\"departmentNumber\"/>\n                    <L7p:JoinMultivalued booleanValue=\"false\"/>\n                    <L7p:MatchingContextVariableName stringValue=\"dept\"/>\n                </L7p:item>\n            </L7p:QueryMappings>\n            <L7p:SearchFilter stringValue=\"(cn=${request.authenticatedUser})\"/>\n            <L7p:SearchFilterInjectionProtected booleanValue=\"true\"/>\n        </L7p:LDAPQuery>\n        <L7p:AuditDetailAssertion>\n            <L7p:Detail stringValue=\"${dept}\"/>\n        </L7p:AuditDetailAssertion>\n        <L7p:HttpRoutingAssertion>\n            <L7p:FailOnErrorStatus booleanValue=\"false\"/>\n            <L7p:OmitAuthHeaderConnectReuseSystemDefault boxedBooleanValue=\"true\"/>\n            <L7p:ProtectedServiceUrl stringValue=\"https://localhost:9443/dbcontent/${uriParts[2]}${request.url.query}\"/>\n            <L7p:ProxyPassword stringValueNull=\"null\"/>\n            <L7p:ProxyUsername stringValueNull=\"null\"/>\n            <L7p:RequestHeaderRules httpPassthroughRuleSet=\"included\">\n                <L7p:ForwardAll booleanValue=\"true\"/>\n                <L7p:Rules httpPassthroughRules=\"included\">\n                    <L7p:item httpPassthroughRule=\"included\">\n                        <L7p:Name stringValue=\"Cookie\"/>\n                    </L7p:item>\n                    <L7p:item httpPassthroughRule=\"included\">\n                        <L7p:Name stringValue=\"SOAPAction\"/>\n                    </L7p:item>\n                </L7p:Rules>\n            </L7p:RequestHeaderRules>\n            <L7p:RequestParamRules httpPassthroughRuleSet=\"included\">\n                <L7p:ForwardAll booleanValue=\"true\"/>\n                <L7p:Rules httpPassthroughRules=\"included\"/>\n            </L7p:RequestParamRules>\n            <L7p:ResponseHeaderRules httpPassthroughRuleSet=\"included\">\n                <L7p:ForwardAll booleanValue=\"true\"/>\n                <L7p:Rules httpPassthroughRules=\"included\">\n                    <L7p:item httpPassthroughRule=\"included\">\n                        <L7p:Name stringValue=\"Set-Cookie\"/>\n                    </L7p:item>\n                </L7p:Rules>\n            </L7p:ResponseHeaderRules>\n        </L7p:HttpRoutingAssertion>\n        <wsp:OneOrMore wsp:Usage=\"Required\">\n            <wsp:All wsp:Usage=\"Required\">\n                <L7p:ComparisonAssertion>\n                    <L7p:CaseSensitive booleanValue=\"false\"/>\n                    <L7p:Expression1 stringValue=\"${dept}\"/>\n                    <L7p:Operator operatorNull=\"null\"/>\n                    <L7p:Predicates predicates=\"included\">\n                        <L7p:item dataType=\"included\">\n                            <L7p:Type variableDataType=\"int\"/>\n                        </L7p:item>\n                        <L7p:item binary=\"included\">\n                            <L7p:Operator operator=\"NE\"/>\n                            <L7p:RightValue stringValue=\"5\"/>\n                        </L7p:item>\n                    </L7p:Predicates>\n                </L7p:ComparisonAssertion>\n                <L7p:Regex>\n                    <L7p:AutoTarget booleanValue=\"false\"/>\n                    <L7p:Regex stringValue=\"[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]\"/>\n                    <L7p:Replace booleanValue=\"true\"/>\n                    <L7p:Replacement stringValue=\"XXXX-XX-XX\"/>\n                    <L7p:Target target=\"RESPONSE\"/>\n                </L7p:Regex>\n            </wsp:All>\n            <L7p:TrueAssertion/>\n        </wsp:OneOrMore>\n    </wsp:All>\n</wsp:Policy>\n"},"enabled":true,"methodsAllowed":["GET","POST","PUT","DELETE"]},{"name":"API6 ","checksum":"5464756aa4fb7aff2126e8a713613b2acd624ee5","resolutionPath":"/api6*","folderPath":"/DemoAPIs","policy":{"xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<wsp:Policy xmlns:L7p=\"http://www.layer7tech.com/ws/policy\" xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2002/12/policy\">\n    <wsp:All wsp:Usage=\"Required\">\n        <L7p:AuditAssertion/>\n        <L7p:CommentAssertion>\n            <L7p:Comment stringValue=\"**** Policy to proxy API and encrypt some field in the response\"/>\n        </L7p:CommentAssertion>\n        <L7p:CommentAssertion>\n            <L7p:Comment stringValue=\"**** Create Fragement\"/>\n        </L7p:CommentAssertion>\n        <L7p:Split>\n            <L7p:InputVariable stringValue=\"request.http.uri\"/>\n            <L7p:OutputVariable stringValue=\"uriParts\"/>\n            <L7p:SplitPattern stringValue=\"/\"/>\n        </L7p:Split>\n        <L7p:HttpBasic/>\n        <L7p:Authentication>\n            <L7p:IdentityProviderOid goidValue=\"c4e77a7656124937c74cdbf2653a47ed\"/>\n        </L7p:Authentication>\n        <L7p:LDAPQuery>\n            <L7p:AllowMultipleResults booleanValue=\"true\"/>\n            <L7p:AttrNames stringArrayValue=\"included\">\n                <L7p:item stringValue=\"mail\"/>\n                <L7p:item stringValue=\"uid\"/>\n                <L7p:item stringValue=\"sn\"/>\n                <L7p:item stringValue=\"departmentNumber\"/>\n            </L7p:AttrNames>\n            <L7p:CacheSize intValue=\"100\"/>\n            <L7p:EnableCache booleanValue=\"false\"/>\n            <L7p:LdapProviderOid goidValue=\"c4e77a7656124937c74cdbf2653a47ed\"/>\n            <L7p:QueryMappings queryAttributeMappings=\"included\">\n                <L7p:item mapping=\"included\">\n                    <L7p:AttributeName stringValue=\"mail\"/>\n                    <L7p:JoinMultivalued booleanValue=\"false\"/>\n                    <L7p:MatchingContextVariableName stringValue=\"email\"/>\n                </L7p:item>\n                <L7p:item mapping=\"included\">\n                    <L7p:AttributeName stringValue=\"uid\"/>\n                    <L7p:JoinMultivalued booleanValue=\"false\"/>\n                    <L7p:MatchingContextVariableName stringValue=\"uid\"/>\n                </L7p:item>\n                <L7p:item mapping=\"included\">\n                    <L7p:AttributeName stringValue=\"sn\"/>\n                    <L7p:JoinMultivalued booleanValue=\"false\"/>\n                    <L7p:MatchingContextVariableName stringValue=\"sn\"/>\n                </L7p:item>\n                <L7p:item mapping=\"included\">\n                    <L7p:AttributeName stringValue=\"departmentNumber\"/>\n                    <L7p:JoinMultivalued booleanValue=\"false\"/>\n                    <L7p:MatchingContextVariableName stringValue=\"dept\"/>\n                </L7p:item>\n            </L7p:QueryMappings>\n            <L7p:SearchFilter stringValue=\"(uid=${request.authenticatedUser)\"/>\n            <L7p:SearchFilterInjectionProtected booleanValue=\"true\"/>\n        </L7p:LDAPQuery>\n        <L7p:HttpRoutingAssertion>\n            <L7p:FailOnErrorStatus booleanValue=\"false\"/>\n            <L7p:OmitAuthHeaderConnectReuseSystemDefault boxedBooleanValue=\"true\"/>\n            <L7p:ProtectedServiceUrl stringValue=\"https://localhost:9443/dbcontent/${uriParts[2]}${request.url.query}\"/>\n            <L7p:ProxyPassword stringValueNull=\"null\"/>\n            <L7p:ProxyUsername stringValueNull=\"null\"/>\n            <L7p:RequestHeaderRules httpPassthroughRuleSet=\"included\">\n                <L7p:ForwardAll booleanValue=\"true\"/>\n                <L7p:Rules httpPassthroughRules=\"included\">\n                    <L7p:item httpPassthroughRule=\"included\">\n                        <L7p:Name stringValue=\"Cookie\"/>\n                    </L7p:item>\n                    <L7p:item httpPassthroughRule=\"included\">\n                        <L7p:Name stringValue=\"SOAPAction\"/>\n                    </L7p:item>\n                </L7p:Rules>\n            </L7p:RequestHeaderRules>\n            <L7p:RequestParamRules httpPassthroughRuleSet=\"included\">\n                <L7p:ForwardAll booleanValue=\"true\"/>\n                <L7p:Rules httpPassthroughRules=\"included\"/>\n            </L7p:RequestParamRules>\n            <L7p:ResponseHeaderRules httpPassthroughRuleSet=\"included\">\n                <L7p:ForwardAll booleanValue=\"true\"/>\n                <L7p:Rules httpPassthroughRules=\"included\">\n                    <L7p:item httpPassthroughRule=\"included\">\n                        <L7p:Name stringValue=\"Set-Cookie\"/>\n                    </L7p:item>\n                </L7p:Rules>\n            </L7p:ResponseHeaderRules>\n        </L7p:HttpRoutingAssertion>\n        <L7p:SetVariable>\n            <L7p:Base64Expression stringValue=\"JHtyZXNwb25zZS5tYWlucGFydH0=\"/>\n            <L7p:ContentType stringValue=\"text/xml; charset=utf-8\"/>\n            <L7p:DataType variableDataType=\"message\"/>\n            <L7p:VariableToSet stringValue=\"responseMessage\"/>\n        </L7p:SetVariable>\n        <L7p:NonSoapEncryptElement>\n            <L7p:RecipientCertificateBase64 stringValueReference=\"inline\"><![CDATA[MIIC5TCCAc2gAwIBAgIJAPY2+tStzdHhMA0GCSqGSIb3DQEBDAUAMBAxDjAMBgNVBAMTBWFyYW53\nMB4XDTIzMDcyMDIwMDIzN1oXDTI4MDcxODIwMDIzN1owEDEOMAwGA1UEAxMFYXJhbncwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCj5S2VDKYVQfGOrFAYItfpj9xFOECerAzj/aU2C8Pl\nSboctUqllaS3KiVVupq0us7iNL8YOfRIP3W7G3VM4M4FSx9qhrefukEmJuN0SVLxRQI57r8DsXI3\nDQzlEkUNM2NE+n/nCh07SarTzrWhgHtmeEWvZSXwFvdpGufh6pt1r0+Ej9QNPwj622U31YDVX1NL\nMrmGAJOEy7dFwSrnZ3CuuXJ8XWbkTCYeL8/r8RmAasvGg5tq8vGZr2hTdm+qyGb0bMGzye+dRdlP\nG4VGLO/WY74oAadhYUagMu8hLnZhikXRb21/3JiBd/7VFjhuetugPVwhqWDwmHYb8bOkjwdXAgMB\nAAGjQjBAMB0GA1UdDgQWBBQt3MmeZVffIepaAE2soaAx1WEcXjAfBgNVHSMEGDAWgBQt3MmeZVff\nIepaAE2soaAx1WEcXjANBgkqhkiG9w0BAQwFAAOCAQEABxR1UE0wUcTYxDqS38Nl9HZHZ5o8K9NY\ng6zKFrgZtUSsG7xdBdbYENpjJRa7EQDDUu+oaie99gyuE4VPVyiJ+9si3bgL+ex9o1YtYY2PtrEp\nx6D3xzyfuF6IIXXPLNsKq6kcFwa7Chh0rsuHE3V352yzY6t8yu8uXbZ2o+mPKlokjXHHo18K8egY\ne7zNpOuxaMA5I/CFs5VAttYUrdgnQx0MBFLym6ldIDWi468Zy6qbdcnPxshRBIVjgVqJllC/B+Aq\nF8dHL4I4bt1RJSL7fKiulhKlqKnfSOz4r/Yhb4bP06Mh1dJ6aL4vEp5y2KMJzbmiAnAgwHs7IFKK\nFFPHHA==]]></L7p:RecipientCertificateBase64>\n            <L7p:UseOaep booleanValue=\"true\"/>\n            <L7p:XpathExpression xpathExpressionValue=\"included\">\n                <L7p:Expression stringValue=\"//Response/row/data\"/>\n                <L7p:XpathVersion xpathVersion=\"XPATH_1_0\"/>\n            </L7p:XpathExpression>\n        </L7p:NonSoapEncryptElement>\n    </wsp:All>\n</wsp:Policy>\n"},"enabled":true,"methodsAllowed":["GET","POST","PUT","DELETE"]},{"name":"API7","checksum":"a295dbd0f8558fdaf8b56481cd13168595b2baa7","resolutionPath":"/api7*","folderPath":"/DemoAPIs","policy":{"xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<wsp:Policy xmlns:L7p=\"http://www.layer7tech.com/ws/policy\" xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2002/12/policy\">\n    <wsp:All wsp:Usage=\"Required\">\n        <L7p:AuditAssertion/>\n        <L7p:CommentAssertion>\n            <L7p:Comment stringValue=\"**** Policy to proxy API and encrypt some field in the response\"/>\n        </L7p:CommentAssertion>\n        <L7p:CommentAssertion>\n            <L7p:Comment stringValue=\"**** Create Fragement\"/>\n        </L7p:CommentAssertion>\n        <L7p:Split>\n            <L7p:InputVariable stringValue=\"request.http.uri\"/>\n            <L7p:OutputVariable stringValue=\"uriParts\"/>\n            <L7p:SplitPattern stringValue=\"/\"/>\n        </L7p:Split>\n        <wsp:OneOrMore wsp:Usage=\"Required\">\n            <wsp:All wsp:Usage=\"Required\">\n                <L7p:HttpBasic/>\n                <L7p:Authentication>\n                    <L7p:IdentityProviderOid goidValue=\"c4e77a7656124937c74cdbf2653a47ed\"/>\n                </L7p:Authentication>\n                <L7p:LDAPQuery>\n                    <L7p:AllowMultipleResults booleanValue=\"true\"/>\n                    <L7p:AttrNames stringArrayValue=\"included\">\n                        <L7p:item stringValue=\"mail\"/>\n                        <L7p:item stringValue=\"uid\"/>\n                        <L7p:item stringValue=\"sn\"/>\n                        <L7p:item stringValue=\"departmentNumber\"/>\n                    </L7p:AttrNames>\n                    <L7p:CacheSize intValue=\"100\"/>\n                    <L7p:EnableCache booleanValue=\"false\"/>\n                    <L7p:Enabled booleanValue=\"false\"/>\n                    <L7p:LdapProviderOid goidValue=\"021c5edb0589440ac17858c25673a740\"/>\n                    <L7p:QueryMappings queryAttributeMappings=\"included\">\n                        <L7p:item mapping=\"included\">\n                            <L7p:AttributeName stringValue=\"mail\"/>\n                            <L7p:JoinMultivalued booleanValue=\"false\"/>\n                            <L7p:MatchingContextVariableName stringValue=\"email\"/>\n                        </L7p:item>\n                        <L7p:item mapping=\"included\">\n                            <L7p:AttributeName stringValue=\"uid\"/>\n                            <L7p:JoinMultivalued booleanValue=\"false\"/>\n                            <L7p:MatchingContextVariableName stringValue=\"uid\"/>\n                        </L7p:item>\n                        <L7p:item mapping=\"included\">\n                            <L7p:AttributeName stringValue=\"sn\"/>\n                            <L7p:JoinMultivalued booleanValue=\"false\"/>\n                            <L7p:MatchingContextVariableName stringValue=\"sn\"/>\n                        </L7p:item>\n                        <L7p:item mapping=\"included\">\n                            <L7p:AttributeName stringValue=\"departmentNumber\"/>\n                            <L7p:JoinMultivalued booleanValue=\"false\"/>\n                            <L7p:MatchingContextVariableName stringValue=\"dept\"/>\n                        </L7p:item>\n                    </L7p:QueryMappings>\n                    <L7p:SearchFilter stringValue=\"(uid=aranw)\"/>\n                    <L7p:SearchFilterInjectionProtected booleanValue=\"true\"/>\n                </L7p:LDAPQuery>\n                <L7p:SetVariable>\n                    <L7p:Base64Expression stringValue=\"cmVtb3Rl\"/>\n                    <L7p:VariableToSet stringValue=\"auth\"/>\n                </L7p:SetVariable>\n            </wsp:All>\n            <wsp:All wsp:Usage=\"Required\">\n                <L7p:SslAssertion>\n                    <L7p:RequireClientAuthentication booleanValue=\"true\"/>\n                </L7p:SslAssertion>\n                <L7p:Authentication>\n                    <L7p:IdentityProviderOid goidValue=\"0000000000000000fffffffffffffffe\"/>\n                </L7p:Authentication>\n                <L7p:SetVariable>\n                    <L7p:Base64Expression stringValue=\"bG9jYWw=\"/>\n                    <L7p:VariableToSet stringValue=\"auth\"/>\n                </L7p:SetVariable>\n            </wsp:All>\n        </wsp:OneOrMore>\n        <L7p:HttpRoutingAssertion>\n            <L7p:FailOnErrorStatus booleanValue=\"false\"/>\n            <L7p:OmitAuthHeaderConnectReuseSystemDefault boxedBooleanValue=\"true\"/>\n            <L7p:ProtectedServiceUrl stringValue=\"https://localhost:9443/dbcontent/${uriParts[2]}${request.url.query}\"/>\n            <L7p:ProxyPassword stringValueNull=\"null\"/>\n            <L7p:ProxyUsername stringValueNull=\"null\"/>\n            <L7p:RequestHeaderRules httpPassthroughRuleSet=\"included\">\n                <L7p:ForwardAll booleanValue=\"true\"/>\n                <L7p:Rules httpPassthroughRules=\"included\">\n                    <L7p:item httpPassthroughRule=\"included\">\n                        <L7p:Name stringValue=\"Cookie\"/>\n                    </L7p:item>\n                    <L7p:item httpPassthroughRule=\"included\">\n                        <L7p:Name stringValue=\"SOAPAction\"/>\n                    </L7p:item>\n                </L7p:Rules>\n            </L7p:RequestHeaderRules>\n            <L7p:RequestParamRules httpPassthroughRuleSet=\"included\">\n                <L7p:ForwardAll booleanValue=\"true\"/>\n                <L7p:Rules httpPassthroughRules=\"included\"/>\n            </L7p:RequestParamRules>\n            <L7p:ResponseHeaderRules httpPassthroughRuleSet=\"included\">\n                <L7p:ForwardAll booleanValue=\"true\"/>\n                <L7p:Rules httpPassthroughRules=\"included\">\n                    <L7p:item httpPassthroughRule=\"included\">\n                        <L7p:Name stringValue=\"Set-Cookie\"/>\n                    </L7p:item>\n                </L7p:Rules>\n            </L7p:ResponseHeaderRules>\n        </L7p:HttpRoutingAssertion>\n        <wsp:OneOrMore wsp:Usage=\"Required\">\n            <wsp:All wsp:Usage=\"Required\">\n                <L7p:ComparisonAssertion>\n                    <L7p:CaseSensitive booleanValue=\"false\"/>\n                    <L7p:Expression1 stringValue=\"${auth}\"/>\n                    <L7p:Operator operatorNull=\"null\"/>\n                    <L7p:Predicates predicates=\"included\">\n                        <L7p:item dataType=\"included\">\n                            <L7p:Type variableDataType=\"string\"/>\n                        </L7p:item>\n                        <L7p:item binary=\"included\">\n                            <L7p:RightValue stringValue=\"local\"/>\n                        </L7p:item>\n                    </L7p:Predicates>\n                </L7p:ComparisonAssertion>\n                <L7p:AddHeader>\n                    <L7p:HeaderName stringValue=\"AUTHLevel\"/>\n                    <L7p:HeaderValue stringValue=\"local\"/>\n                    <L7p:Target target=\"RESPONSE\"/>\n                </L7p:AddHeader>\n                <L7p:Regex>\n                    <L7p:AutoTarget booleanValue=\"false\"/>\n                    <L7p:Regex stringValue=\"[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]\"/>\n                    <L7p:Replace booleanValue=\"true\"/>\n                    <L7p:Replacement stringValue=\"XXXX-XX-XX\"/>\n                    <L7p:Target target=\"RESPONSE\"/>\n                </L7p:Regex>\n            </wsp:All>\n            <wsp:All wsp:Usage=\"Required\">\n                <L7p:ComparisonAssertion>\n                    <L7p:CaseSensitive booleanValue=\"false\"/>\n                    <L7p:Expression1 stringValue=\"${auth}\"/>\n                    <L7p:Operator operatorNull=\"null\"/>\n                    <L7p:Predicates predicates=\"included\">\n                        <L7p:item dataType=\"included\">\n                            <L7p:Type variableDataType=\"string\"/>\n                        </L7p:item>\n                        <L7p:item binary=\"included\">\n                            <L7p:RightValue stringValue=\"remote\"/>\n                        </L7p:item>\n                    </L7p:Predicates>\n                </L7p:ComparisonAssertion>\n                <L7p:AddHeader>\n                    <L7p:HeaderName stringValue=\"AUTHLevel\"/>\n                    <L7p:HeaderValue stringValue=\"remote\"/>\n                    <L7p:Target target=\"RESPONSE\"/>\n                </L7p:AddHeader>\n                <L7p:TrueAssertion/>\n            </wsp:All>\n        </wsp:OneOrMore>\n        <wsp:OneOrMore wsp:Usage=\"Required\">\n            <wsp:All wsp:Usage=\"Required\">\n                <L7p:ComparisonAssertion>\n                    <L7p:CaseSensitive booleanValue=\"false\"/>\n                    <L7p:Expression1 stringValue=\"${request.http.header.accept}\"/>\n                    <L7p:Expression2 stringValue=\"json\"/>\n                    <L7p:Operator operator=\"CONTAINS\"/>\n                    <L7p:Predicates predicates=\"included\">\n                        <L7p:item binary=\"included\">\n                            <L7p:CaseSensitive booleanValue=\"false\"/>\n                            <L7p:Operator operator=\"CONTAINS\"/>\n                            <L7p:RightValue stringValue=\"json\"/>\n                        </L7p:item>\n                    </L7p:Predicates>\n                </L7p:ComparisonAssertion>\n                <L7p:JsonTransformation>\n                    <L7p:RootTagString stringValue=\"\"/>\n                </L7p:JsonTransformation>\n            </wsp:All>\n            <wsp:All wsp:Usage=\"Required\">\n                <L7p:TrueAssertion/>\n            </wsp:All>\n        </wsp:OneOrMore>\n    </wsp:All>\n</wsp:Policy>\n"},"enabled":true,"methodsAllowed":["GET","POST","PUT","DELETE"]}],"properties":{"meta":{"id":"dc773ff0-a1a2-4f7c-a51e-3f1eab3fc308","name":"Gateway Graphman Bundle - 2024-02-16T12:00:15.644-07:00","author":"admin","hostname":"192.168.6.251","timestamp":"2024-02-16T12:00:15.644-07:00"},"defaultAction":"NEW_OR_UPDATE"}}}